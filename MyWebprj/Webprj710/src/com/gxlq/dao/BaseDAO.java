package com.gxlq.dao;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;

/**
 * JDBC???????mysql??????????
 *
 * @author johny
 * ??¨°?????????
 */
public class BaseDAO {
    //?????????
    public Connection getConnection() throws ClassNotFoundException, SQLException {
        //1??????mysql8.x????,???????
        Class.forName("com.mysql.cj.jdbc.Driver");
        //2???????????rbac
        //jdbc:mysql://   §¿??
        //localhost ?????¦Ë?? ????????????????????????ip???????????????
        //rbac ?????????
        //?????????????
        //root ???mysql???????????????
        //mgsmgs     ???mysql????????????????
        Connection conn = DriverManager.getConnection("jdbc:mysql://localhost/rbac?characterEncoding=utf8&useSSL=false&serverTimezone=UTC",
                "root", "mgsmgs");
        return conn;
    }

    //????????
    public void closeConnection(Connection conn) throws SQLException {
        if (conn != null) {
            conn.close();
        }
    }
}
